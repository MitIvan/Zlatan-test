"use strict";(self.webpackChunkMatdash=self.webpackChunkMatdash||[]).push([[88],{7088:(O,j,s)=>{s.d(j,{a:()=>B});var e=s(3953),p=s(177),c=s(4006),i=s(9417),u=s(3636);class R{constructor(r){r=r||{},this.start=new Date(r.start)||(0,u.A)(new Date),this.end=new Date(r.end),this._id=r._id||"",this.title=r.title||"",this.color={primary:r.color&&r.color.primary||"#247ba0",secondary:r.color&&r.color.secondary||"#D1E8FF"},this.draggable=r.draggable||!0,this.resizable={beforeStart:r.resizable&&r.resizable.beforeStart||!0,afterEnd:r.resizable&&r.resizable.afterEnd||!0},this.actions=r.actions||[],this.allDay=r.allDay||!1,this.cssClass=r.cssClass||"",this.meta={location:r.meta&&r.meta.location||"",notes:r.meta&&r.meta.notes||""}}}var C=s(9164),m=s(5084),w=s(6600),v=s(3719),D=s(9631),f=s(8834);let A=(()=>{class o{constructor(n,l,t){this.dialogRef=n,this.data=l,this.formBuilder=t,this.event=l.event,this.action=l.action,"edit"===this.action?this.dialogTitle=this.event.title:(this.dialogTitle="Add Event",this.event=new R({start:l.date,end:l.date})),this.eventForm=this.buildEventForm(this.event)}buildEventForm(n){return new i.J3({_id:new i.hs(n._id),title:new i.hs(n.title),start:new i.hs(n.start),end:new i.hs(n.end),allDay:new i.hs(n.allDay),color:this.formBuilder.group({primary:new i.hs(n.color.primary),secondary:new i.hs(n.color.secondary)}),meta:this.formBuilder.group({location:new i.hs(n.meta.location),notes:new i.hs(n.meta.notes)}),draggable:new i.hs(!0)})}static{this.\u0275fac=function(l){return new(l||o)(e.rXU(c.CP),e.rXU(c.Vh),e.rXU(i.ze))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-calendar-form-dialog"]],standalone:!0,features:[e.Jv_([(0,w.aw)()]),e.aNF],decls:25,vars:6,consts:[["startDateDP",""],["endDateDP",""],["mat-dialog-content","",2,"max-width","500px"],[1,"mat-headline-6","m-b-16"],["name","eventForm",1,"event-form",3,"formGroup"],[1,"row"],[1,"col-12"],["appearance","outline",1,"w-100"],["matInput","","name","title","formControlName","title","placeholder","Add Title","required",""],["matInput","","placeholder","Change Color","type","color","formControlName","primary",3,"colorPickerChange"],[1,"col-sm-6"],["matInput","","placeholder","Start Date","name","startDate","formControlName","start",3,"matDatepicker"],["matSuffix","",3,"for"],["matInput","","placeholder","End Date","name","endDate","formControlName","end",3,"matDatepicker"],["mat-flat-button","","color","primary","aria-label","SAVE",3,"click","disabled"]],template:function(l,t){if(1&l){const a=e.RV6();e.j41(0,"div",2)(1,"h4",3),e.EFF(2,"Add Event"),e.k0s(),e.j41(3,"form",4)(4,"div",5)(5,"div",6)(6,"mat-form-field",7),e.nrm(7,"input",8),e.k0s()(),e.j41(8,"div",6)(9,"mat-form-field",7)(10,"input",9),e.bIt("colorPickerChange",function(){return e.eBV(a),e.Njj(t.eventForm.patchValue({color:{primary:t.event.color.primary}}))}),e.k0s()()(),e.j41(11,"div",10)(12,"mat-form-field",7),e.nrm(13,"input",11)(14,"mat-datepicker-toggle",12)(15,"mat-datepicker",null,0),e.k0s()(),e.j41(17,"div",10)(18,"mat-form-field",7),e.nrm(19,"input",13)(20,"mat-datepicker-toggle",12)(21,"mat-datepicker",null,1),e.k0s()()(),e.j41(23,"button",14),e.bIt("click",function(){return e.eBV(a),e.Njj(t.dialogRef.close({action:"save",event:t.eventForm.value}))}),e.EFF(24," Save "),e.k0s()()()}if(2&l){const a=e.sdS(16),d=e.sdS(22);e.R7$(3),e.Y8G("formGroup",t.eventForm),e.R7$(10),e.Y8G("matDatepicker",a),e.R7$(),e.Y8G("for",a),e.R7$(5),e.Y8G("matDatepicker",d),e.R7$(),e.Y8G("for",d),e.R7$(3),e.Y8G("disabled",t.eventForm.invalid)}},dependencies:[C.G,m.Vh,m.bZ,m.bU,v.rl,v.yw,D.fg,f.$z,c.Yi,i.YN,i.qT,i.me,i.BC,i.cb,i.YS,i.X1,i.j4,i.JD,m.X6],changeDetection:0})}}return o})();var k=s(4626),b=s(1079),y=s(959),T=s(7379),E=s(1679),G=s(1447),I=s(1413),h=s(3458),F=s(5911),_=s(5596),V=s(9213);function M(o,r){if(1&o){const n=e.RV6();e.j41(0,"div",4)(1,"div",6)(2,"div",7)(3,"mat-form-field",8)(4,"input",9),e.mxI("ngModelChange",function(t){e.eBV(n);const a=e.XpG();return e.DH7(null==a.data?null:a.data.event.title,t)||((null==a.data?null:a.data.event).title=t),e.Njj(t)}),e.k0s()()(),e.j41(5,"div",7)(6,"mat-form-field",8)(7,"input",10),e.mxI("ngModelChange",function(t){e.eBV(n);const a=e.XpG();return e.DH7(null==a.data?null:a.data.event.color.primary.color,t)||((null==a.data?null:a.data.event.color.primary.color).primary=t),e.Njj(t)}),e.k0s()()(),e.j41(8,"div",11)(9,"mat-form-field",8)(10,"input",12),e.mxI("ngModelChange",function(t){e.eBV(n);const a=e.XpG();return e.DH7(null==a.data?null:a.data.event.start,t)||((null==a.data?null:a.data.event).start=t),e.Njj(t)}),e.k0s(),e.nrm(11,"mat-datepicker-toggle",13)(12,"mat-datepicker",null,0),e.k0s()(),e.j41(14,"div",11)(15,"mat-form-field",8)(16,"input",14),e.mxI("ngModelChange",function(t){e.eBV(n);const a=e.XpG();return e.DH7(null==a.data?null:a.data.event.end,t)||((null==a.data?null:a.data.event).end=t),e.Njj(t)}),e.k0s(),e.nrm(17,"mat-datepicker-toggle",13)(18,"mat-datepicker",null,1),e.k0s()()()()}if(2&o){const n=e.sdS(13),l=e.sdS(19),t=e.XpG();e.R7$(4),e.R50("ngModel",null==t.data?null:t.data.event.title),e.R7$(3),e.R50("ngModel",null==t.data?null:t.data.event.color.primary),e.R7$(3),e.Y8G("matDatepicker",n),e.R50("ngModel",null==t.data?null:t.data.event.start),e.R7$(),e.Y8G("for",n),e.R7$(5),e.Y8G("matDatepicker",l),e.R50("ngModel",null==t.data?null:t.data.event.end),e.R7$(),e.Y8G("for",l)}}function X(o,r){if(1&o){const n=e.RV6();e.j41(0,"mwl-calendar-month-view",18),e.bIt("dayClicked",function(t){e.eBV(n);const a=e.XpG();return e.Njj(a.dayClicked(t.day))})("eventClicked",function(t){e.eBV(n);const a=e.XpG();return e.Njj(a.handleEvent("Clicked",t.event))})("eventTimesChanged",function(t){e.eBV(n);const a=e.XpG();return e.Njj(a.eventTimesChanged(t))}),e.k0s()}if(2&o){const n=e.XpG();e.Y8G("viewDate",n.viewDate)("events",n.events)("refresh",n.refresh)("activeDayIsOpen",n.activeDayIsOpen)}}function N(o,r){if(1&o){const n=e.RV6();e.j41(0,"mwl-calendar-week-view",19),e.bIt("eventClicked",function(t){e.eBV(n);const a=e.XpG();return e.Njj(a.handleEvent("Clicked",t.event))})("eventTimesChanged",function(t){e.eBV(n);const a=e.XpG();return e.Njj(a.eventTimesChanged(t))}),e.k0s()}if(2&o){const n=e.XpG();e.Y8G("viewDate",n.viewDate)("events",n.events)("refresh",n.refresh)}}function S(o,r){if(1&o){const n=e.RV6();e.j41(0,"mwl-calendar-day-view",19),e.bIt("eventClicked",function(t){e.eBV(n);const a=e.XpG();return e.Njj(a.handleEvent("Clicked",t.event))})("eventTimesChanged",function(t){e.eBV(n);const a=e.XpG();return e.Njj(a.eventTimesChanged(t))}),e.k0s()}if(2&o){const n=e.XpG();e.Y8G("viewDate",n.viewDate)("events",n.events)("refresh",n.refresh)}}const g={red:{primary:"#fa896b",secondary:"#fdede8"},blue:{primary:"#5d87ff",secondary:"#ecf2ff"},yellow:{primary:"#ffae1f",secondary:"#fef5e5"}};let Y=(()=>{class o{constructor(n,l){this.dialogRef=n,this.data=l}static{this.\u0275fac=function(l){return new(l||o)(e.rXU(c.CP),e.rXU(c.Vh))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-calendar-dialog"]],standalone:!0,features:[e.Jv_([(0,w.aw)()]),e.aNF],decls:6,vars:2,consts:[["startDateDP",""],["endDateDP",""],["mat-dialog-content","",2,"max-width","500px"],[1,"mat-headline-6","m-b-16"],[1,"basic-form"],["mat-flat-button","","color","primary",3,"click"],[1,"row"],[1,"col-12"],["appearance","outline",1,"w-100"],["matInput","","placeholder","Edit Title",3,"ngModelChange","ngModel"],["matInput","","placeholder","Change Color","type","color",3,"ngModelChange","ngModel"],[1,"col-sm-6"],["matInput","","placeholder","Start Date","name","startDate",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["matInput","","placeholder","End Date","name","endDate",3,"ngModelChange","matDatepicker","ngModel"]],template:function(l,t){1&l&&(e.j41(0,"div",2)(1,"h4",3),e.EFF(2),e.k0s(),e.DNE(3,M,20,8,"div",4),e.j41(4,"button",5),e.bIt("click",function(){return t.dialogRef.close()}),e.EFF(5," Ok "),e.k0s()()),2&l&&(e.R7$(2),e.JRh(null==t.data?null:t.data.action),e.R7$(),e.vxM("Edit"===(null==t.data?null:t.data.action)?3:-1))},dependencies:[C.G,m.Vh,m.bZ,m.bU,v.rl,v.yw,D.fg,f.$z,c.Yi,i.YN,i.me,i.BC,i.vS,i.X1,p.MD,w.WX,c.hM,m.X6],encapsulation:2,changeDetection:0})}}return o})(),B=(()=>{class o{constructor(n,l){this.dialog=n,this.dialogRef=Object.create(e.C4Q),this.dialogRef2=Object.create(e.C4Q),this.lastCloseResult="",this.actionsAlignment="",this.config={disableClose:!1,width:"",height:"",position:{top:"",bottom:"",left:"",right:""},data:{action:"",event:[]}},this.numTemplateOpens=0,this.view="month",this.viewDate=new Date,this.actions=[{label:'<span class="text-white link m-l-5">: Edit</span>',onClick:({event:t})=>{this.handleEvent("Edit",t)}},{label:'<span class="text-danger m-l-5">Delete</span>',onClick:({event:t})=>{this.events=this.events.filter(a=>a!==t),this.handleEvent("Deleted",t)}}],this.refresh=new I.B,this.events=[{start:(0,k.A)((0,u.A)(new Date),1),end:(0,b.A)(new Date,1),title:"A 3 day event",color:g.red,actions:this.actions},{start:(0,u.A)(new Date),title:"An event with no end date",color:g.blue,actions:this.actions},{start:(0,k.A)((0,y.A)(new Date),3),end:(0,b.A)((0,y.A)(new Date),3),title:"A long event that spans 2 months",color:g.blue},{start:(0,T.A)((0,u.A)(new Date),2),end:new Date,title:"A draggable and resizable event",color:g.yellow,actions:this.actions,resizable:{beforeStart:!0,afterEnd:!0},draggable:!0}],this.activeDayIsOpen=!0}dayClicked({date:n,events:l}){(0,E.A)(n,this.viewDate)&&((0,G.A)(this.viewDate,n)&&!0===this.activeDayIsOpen||0===l.length?this.activeDayIsOpen=!1:(this.activeDayIsOpen=!0,this.viewDate=n))}eventTimesChanged({event:n,newStart:l,newEnd:t}){this.events=this.events.map(a=>a===n?{...n,start:l,end:t}:a),this.handleEvent("Dropped or resized",n)}handleEvent(n,l){this.config.data={event:l,action:n},this.dialogRef=this.dialog.open(Y,this.config),this.dialogRef.afterClosed().subscribe(t=>{this.lastCloseResult=t,this.dialogRef=Object.create(null),this.refresh.next(t)})}addEvent(){this.dialogRef2=this.dialog.open(A,{panelClass:"calendar-form-dialog",data:{action:"add",date:new Date}}),this.dialogRef2.afterClosed().subscribe(n=>{if(!n)return;const t=n.event;t.actions=this.actions,this.events.push(t),this.dialogRef2=Object.create(null),this.refresh.next(n)})}deleteEvent(n){this.events=this.events.filter(l=>l!==n)}setView(n){this.view=n}static{this.\u0275fac=function(l){return new(l||o)(e.rXU(c.bZ),e.rXU(p.qQ))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-fullcalendar"]],standalone:!0,features:[e.Jv_([(0,w.aw)(),h.jc]),e.aNF],decls:45,vars:26,consts:[[1,"cardWithShadow"],[1,"p-16"],[1,"d-flex","align-items-center"],[1,"m-b-0"],[1,"m-l-auto"],["mat-flat-button","","color","primary",3,"click"],[1,"cardWithShadow","overflow-hidden"],["color","primary",1,"no-shadow"],[1,"d-flex","align-items-center","w-100"],[1,"m-l-auto","d-flex","align-items-center"],["mat-button","",3,"click"],["mat-icon-button","",3,"click"],["mat-icon-button","","mwlCalendarPreviousView","",3,"viewDateChange","view","viewDate"],["mat-icon-button","","mwlCalendarToday","",3,"viewDateChange","viewDate"],["mat-icon-button","","mwlCalendarNextView","",3,"viewDateChange","view","viewDate"],[3,"ngSwitch"],[3,"viewDate","events","refresh","activeDayIsOpen","dayClicked","eventClicked","eventTimesChanged",4,"ngSwitchCase"],[3,"viewDate","events","refresh","eventClicked","eventTimesChanged",4,"ngSwitchCase"],[3,"dayClicked","eventClicked","eventTimesChanged","viewDate","events","refresh","activeDayIsOpen"],[3,"eventClicked","eventTimesChanged","viewDate","events","refresh"]],template:function(l,t){1&l&&(e.j41(0,"mat-card",0)(1,"mat-card-content",1)(2,"div",2)(3,"mat-card-title",3),e.EFF(4,"Angular Calendar"),e.k0s(),e.j41(5,"div",4)(6,"button",5),e.bIt("click",function(){return t.addEvent()}),e.EFF(7," Add Event "),e.k0s()()()()(),e.j41(8,"mat-card",6)(9,"mat-toolbar",7)(10,"mat-toolbar-row")(11,"div",8)(12,"span"),e.EFF(13),e.nI1(14,"calendarDate"),e.k0s(),e.j41(15,"div",9)(16,"button",10),e.bIt("click",function(){return t.view="month"}),e.EFF(17," Month "),e.k0s(),e.j41(18,"button",10),e.bIt("click",function(){return t.view="week"}),e.EFF(19," Week "),e.k0s(),e.j41(20,"button",10),e.bIt("click",function(){return t.view="day"}),e.EFF(21," Day "),e.k0s(),e.j41(22,"button",11),e.bIt("click",function(){return t.view="month"}),e.j41(23,"mat-icon"),e.EFF(24,"view_module"),e.k0s()(),e.j41(25,"button",11),e.bIt("click",function(){return t.view="week"}),e.j41(26,"mat-icon"),e.EFF(27,"view_week"),e.k0s()(),e.j41(28,"button",11),e.bIt("click",function(){return t.view="day"}),e.j41(29,"mat-icon"),e.EFF(30,"view_day"),e.k0s()(),e.j41(31,"button",12),e.mxI("viewDateChange",function(d){return e.DH7(t.viewDate,d)||(t.viewDate=d),d}),e.j41(32,"mat-icon"),e.EFF(33,"chevron_left"),e.k0s()(),e.j41(34,"button",13),e.mxI("viewDateChange",function(d){return e.DH7(t.viewDate,d)||(t.viewDate=d),d}),e.j41(35,"mat-icon"),e.EFF(36,"today"),e.k0s()(),e.j41(37,"button",14),e.mxI("viewDateChange",function(d){return e.DH7(t.viewDate,d)||(t.viewDate=d),d}),e.j41(38,"mat-icon"),e.EFF(39,"chevron_right"),e.k0s()()()()()(),e.j41(40,"mat-card-content")(41,"div",15),e.DNE(42,X,1,4,"mwl-calendar-month-view",16)(43,N,1,3,"mwl-calendar-week-view",17)(44,S,1,3,"mwl-calendar-day-view",17),e.k0s()()()),2&l&&(e.R7$(13),e.JRh(e.brH(14,22,t.viewDate,t.view+"ViewTitle","en")),e.R7$(3),e.AVh("active","month"===t.view),e.R7$(2),e.AVh("active","week"===t.view),e.R7$(2),e.AVh("active","day"===t.view),e.R7$(2),e.AVh("active","month"===t.view),e.R7$(3),e.AVh("active","week"===t.view),e.R7$(3),e.AVh("active","day"===t.view),e.R7$(3),e.Y8G("view",t.view),e.R50("viewDate",t.viewDate),e.R7$(3),e.R50("viewDate",t.viewDate),e.R7$(3),e.Y8G("view",t.view),e.R50("viewDate",t.viewDate),e.R7$(4),e.Y8G("ngSwitch",t.view),e.R7$(),e.Y8G("ngSwitchCase","month"),e.R7$(),e.Y8G("ngSwitchCase","week"),e.R7$(),e.Y8G("ngSwitchCase","day"))},dependencies:[C.G,F.KQ,F.uu,_.RN,_.m2,_.dh,f.$z,f.iY,V.An,i.YN,i.X1,p.ux,h.rO,h.xt,h.Nl,h.u8,h.Sz,h.jD,h.tG,h.T$,p.MD,p.e1,m.X6,c.hM,v.RG],styles:[".no-shadow[_ngcontent-%COMP%]{box-shadow:none}"],changeDetection:0})}}return o})()}}]);